{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\module/assets\\script\\module\\binding.js"],"names":["for_maker","c_hello","hello","c_login_version","versionOk","player","YYSDK","getPlayer","console","log","for_caller","s_login_player_create","name","uid","c_login_sign_check","signOk","c_login_player_create","userId","s_login_player_enter","cc","director","emit","c_user","oci","gameData","getGameData","s_racing_start_game","roomid","gameid","channelid","TEST_ROOM_ID","signData","getSignData","s_login_sign_check","timestamp","nonstr","post_data","sign","c_racing_start_game","ownerId","opponentId","c_racing_sync_data","distance","x","c_racing_block_data","blockDatas","c_racing_finish_game","winnerId","time","result"],"mappings":";;;;;;AAAA;AACA;AACA;AACAA,UAAUC,OAAV,GAAoB,UAAUC,KAAV,EAAiB;AACjC;AACH,CAFD;;AAIAF,UAAUG,eAAV,GAA4B,UAAUC,SAAV,EAAqB;AAC7C,QAAIC,SAASC,MAAMC,SAAN,EAAb;AACAC,YAAQC,GAAR,CAAYJ,MAAZ;AACA,QAAIA,MAAJ,EAAY;AACRK,mBAAWC,qBAAX,CAAiCN,OAAOO,IAAxC,EAA8CP,OAAOQ,GAArD;AACH,KAFD,MAEO;AACHH,mBAAWC,qBAAX,CAAiC,MAAjC,EAAyC,GAAzC;AACH;AACJ,CARD;;AAUAX,UAAUc,kBAAV,GAA+B,UAAUC,MAAV,EAAkB;AAC7C,QAAI,CAACA,MAAL,EAAa;AACT;AACH;AACD,QAAIV,SAASC,MAAMC,SAAN,EAAb;AACA,QAAIF,MAAJ,EAAY;AACRK,mBAAWC,qBAAX,CAAiCN,OAAOO,IAAxC,EAA8CP,OAAOQ,GAArD;AACH;AACJ,CARD;;AAUAb,UAAUgB,qBAAV,GAAkC,UAAUC,MAAV,EAAkB;AAChDP,eAAWQ,oBAAX,CAAgCD,MAAhC;AACAE,OAAGC,QAAH,CAAYC,IAAZ,CAAiB,OAAjB,EAA0B,EAAC,UAAUJ,MAAX,EAA1B;AACH,CAHD;;AAKA;AACAjB,UAAUsB,MAAV,GAAmB,UAAUC,GAAV,EAAe;AAC9B;AACA,QAAIC,WAAWlB,MAAMmB,WAAN,EAAf;AACA,QAAID,QAAJ,EAAc;AACVd,mBAAWgB,mBAAX,CAA+BF,SAASG,MAAxC,EAAgDH,SAASI,MAAzD,EAAiEJ,SAASK,SAA1E;AACH,KAFD,MAEO;AACH;AACAnB,mBAAWgB,mBAAX,CAA+BI,YAA/B,EAA6C,QAA7C,EAAuD,MAAvD;AACH;AACD,QAAIC,WAAWzB,MAAM0B,WAAN,EAAf;AACA,QAAID,QAAJ,EAAc;AACVrB,mBAAWuB,kBAAX,CAA8BF,SAASG,SAAvC,EAAkDH,SAASI,MAA3D,EAAmEJ,SAASK,SAA5E,EAAuFL,SAASM,IAAhG;AACH,KAFD,MAEO;AACH3B,mBAAWC,qBAAX,CAAiC,MAAjC,EAAyC,GAAzC;AACH;;AAED;AACH,CAjBD;;AAmBA;AACAX,UAAUsC,mBAAV,GAAgC,UAAUC,OAAV,EAAmBC,UAAnB,EAA+B;AAC3DhC,YAAQC,GAAR,CAAY,qBAAZ,EAAmC8B,OAAnC,EAA4CC,UAA5C;AACArB,OAAGC,QAAH,CAAYC,IAAZ,CAAiB,OAAjB,EAA0B,EAAC,WAAWkB,OAAZ,EAAqB,cAAcC,UAAnC,EAA1B;AACH,CAHD;;AAKAxC,UAAUyC,kBAAV,GAA+B,UAAUC,QAAV,EAAoBC,CAApB,EAAuB;AAClDxB,OAAGC,QAAH,CAAYC,IAAZ,CAAiB,MAAjB,EAAyB,EAAC,YAAYqB,QAAb,EAAuB,KAAKC,CAA5B,EAAzB;AACH,CAFD;;AAIA3C,UAAU4C,mBAAV,GAAgC,UAAUC,UAAV,EAAsB;AAClD1B,OAAGC,QAAH,CAAYC,IAAZ,CAAiB,OAAjB,EAA0B,EAAC,cAAcwB,UAAf,EAA1B;AACH,CAFD;;AAIA7C,UAAU8C,oBAAV,GAAiC,UAAUC,QAAV,EAAoBC,IAApB,EAA0BC,MAA1B,EAAkC;AAC/D9B,OAAGC,QAAH,CAAYC,IAAZ,CAAiB,QAAjB,EAA2B,EAAC,YAAY0B,QAAb,EAAuB,QAAQC,IAA/B,EAAqC,UAAUC,MAA/C,EAA3B;AACH,CAFD","file":"binding.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\module","sourcesContent":["// 协议捆绑\r\n// --------------------------------------------------------------------------------\r\n// 登录协议\r\nfor_maker.c_hello = function (hello) {\r\n    // for_caller.s_login_version(1);\r\n}\r\n\r\nfor_maker.c_login_version = function (versionOk) {\r\n    var player = YYSDK.getPlayer();\r\n    console.log(player);\r\n    if (player) {\r\n        for_caller.s_login_player_create(player.name, player.uid);\r\n    } else {\r\n        for_caller.s_login_player_create(\"测试玩家\", \"0\");\r\n    }\r\n}\r\n\r\nfor_maker.c_login_sign_check = function (signOk) {\r\n    if (!signOk) {\r\n        //TODO 签名验证失败\r\n    }\r\n    var player = YYSDK.getPlayer();\r\n    if (player) {\r\n        for_caller.s_login_player_create(player.name, player.uid);\r\n    }\r\n}\r\n\r\nfor_maker.c_login_player_create = function (userId) {\r\n    for_caller.s_login_player_enter(userId);\r\n    cc.director.emit(\"ENTER\", {\"heroId\": userId});\r\n}\r\n\r\n// 玩家协议\r\nfor_maker.c_user = function (oci) {\r\n    // 无平台传test\r\n    var gameData = YYSDK.getGameData();\r\n    if (gameData) {\r\n        for_caller.s_racing_start_game(gameData.roomid, gameData.gameid, gameData.channelid);\r\n    } else {\r\n        //测试\r\n        for_caller.s_racing_start_game(TEST_ROOM_ID, \"saiche\", \"test\");\r\n    }\r\n    var signData = YYSDK.getSignData();\r\n    if (signData) {\r\n        for_caller.s_login_sign_check(signData.timestamp, signData.nonstr, signData.post_data, signData.sign);\r\n    } else {\r\n        for_caller.s_login_player_create(\"测试玩家\", \"0\");\r\n    }\r\n\r\n    // for_maker.c_racing_start_game(oci.userid+ \"\", oci.userid+1 + \"\")\r\n}\r\n\r\n// 游戏协议\r\nfor_maker.c_racing_start_game = function (ownerId, opponentId) {\r\n    console.log(\"c_racing_start_game\", ownerId, opponentId)\r\n    cc.director.emit(\"START\", {\"ownerId\": ownerId, \"opponentId\": opponentId});\r\n}\r\n\r\nfor_maker.c_racing_sync_data = function (distance, x) {\r\n    cc.director.emit(\"RACE\", {\"distance\": distance, \"x\": x});\r\n}\r\n\r\nfor_maker.c_racing_block_data = function (blockDatas) {\r\n    cc.director.emit(\"BLOCK\", {\"blockDatas\": blockDatas});\r\n}\r\n\r\nfor_maker.c_racing_finish_game = function (winnerId, time, result) {\r\n    cc.director.emit(\"RESULT\", {\"winnerId\": winnerId, \"time\": time, \"result\": result});\r\n}\r\n"]}