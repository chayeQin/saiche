{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\module/assets\\script\\module\\getWsUrl.js"],"names":["GetQueryString","name","reg","RegExp","r","window","location","search","substr","match","unescape","GetWsUrl","wsdomain","port","sign","nonstr","timestamp","post_data","obj","JSON","parse","gameid","roomid","ws_url","GetWssUrl"],"mappings":";;;;;;AAAA,SAASA,cAAT,CAAwBC,IAAxB,EAA8B;AAC1B,QAAIC,MAAM,IAAIC,MAAJ,CAAW,UAAUF,IAAV,GAAiB,eAA5B,CAAV;AACA,QAAIG,IAAIC,OAAOC,QAAP,CAAgBC,MAAhB,CAAuBC,MAAvB,CAA8B,CAA9B,EAAiCC,KAAjC,CAAuCP,GAAvC,CAAR;AACA,QAAIE,KAAK,IAAT,EACI,OAAOM,SAASN,EAAE,CAAF,CAAT,CAAP;AACJ,WAAO,IAAP;AACH;;AAED,SAASO,QAAT,GAAoB;AAChB,QAAIC,WAAWZ,eAAe,iBAAf,CAAf;AACA,QAAIY,aAAa,IAAjB,EAAuB;AACnB,eAAO,IAAP;AACH;AACD,QAAIC,OAAOb,eAAe,MAAf,CAAX;AACA,QAAIc,OAAOd,eAAe,MAAf,CAAX;AACA,QAAIe,SAASf,eAAe,QAAf,CAAb;AACA,QAAIgB,YAAYhB,eAAe,WAAf,CAAhB;AACA,QAAIiB,YAAYjB,eAAe,WAAf,CAAhB;;AAEA,QAAIkB,MAAMC,KAAKC,KAAL,CAAWH,SAAX,CAAV;AACA,QAAII,SAASH,IAAIG,MAAjB;AACA,QAAIC,SAASJ,IAAII,MAAjB;;AAEA,QAAIC,SAAS,UAAUX,QAAV,GAAqB,GAArB,GAA2BC,IAA3B,GAAkC,GAAlC,GAAwCQ,MAAxC,GAAiD,GAAjD,GAAuDC,MAAvD,GACT,UADS,GACIP,MADJ,GACa,QADb,GACwBD,IADxB,GAET,aAFS,GAEOE,SAFP,GAEmB,aAFnB,GAEmCC,SAFhD;;AAIA,WAAOM,MAAP;AACH;;AAED,SAASC,SAAT,GAAqB;AACjB,QAAIZ,WAAWZ,eAAe,iBAAf,CAAf;AACA,QAAIY,aAAa,IAAjB,EAAuB;AACnB,eAAO,IAAP;AACH;AACD,QAAIC,OAAOb,eAAe,MAAf,CAAX;AACA,QAAIc,OAAOd,eAAe,MAAf,CAAX;AACA,QAAIe,SAASf,eAAe,QAAf,CAAb;AACA,QAAIgB,YAAYhB,eAAe,WAAf,CAAhB;AACA,QAAIiB,YAAYjB,eAAe,WAAf,CAAhB;;AAEA,QAAIkB,MAAMC,KAAKC,KAAL,CAAWH,SAAX,CAAV;AACA,QAAII,SAASH,IAAIG,MAAjB;AACA,QAAIC,SAASJ,IAAII,MAAjB;;AAEA,QAAIC,SAAS,WAAWX,QAAX,GAAsB,GAAtB,GAA4BC,IAA5B,GAAmC,GAAnC,GAAyCQ,MAAzC,GAAkD,GAAlD,GAAwDC,MAAxD,GACT,UADS,GACIP,MADJ,GACa,QADb,GACwBD,IADxB,GAET,aAFS,GAEOE,SAFP,GAEmB,aAFnB,GAEmCC,SAFhD;;AAIA,WAAOM,MAAP;AACH;;AAEDlB,OAAOL,cAAP,GAAwBA,cAAxB;AACAK,OAAOM,QAAP,GAAkBA,QAAlB;AACAN,OAAOmB,SAAP,GAAmBA,SAAnB","file":"getWsUrl.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\module","sourcesContent":["function GetQueryString(name) {\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n    var r = window.location.search.substr(1).match(reg);\n    if (r != null)\n        return unescape(r[2]);\n    return null;\n}\n\nfunction GetWsUrl() {\n    var wsdomain = GetQueryString(\"websocketdomain\");\n    if (wsdomain === null) {\n        return null;\n    }\n    var port = GetQueryString(\"port\");\n    var sign = GetQueryString(\"sign\");\n    var nonstr = GetQueryString(\"nonstr\");\n    var timestamp = GetQueryString(\"timestamp\");\n    var post_data = GetQueryString(\"post_data\");\n\n    var obj = JSON.parse(post_data);\n    var gameid = obj.gameid;\n    var roomid = obj.roomid;\n\n    var ws_url = \"ws://\" + wsdomain + \":\" + port + \"/\" + gameid + \"/\" + roomid +\n        \"?nonstr=\" + nonstr + \"&sign=\" + sign +\n        \"&timestamp=\" + timestamp + \"&post_data=\" + post_data;\n\n    return ws_url;\n}\n\nfunction GetWssUrl() {\n    var wsdomain = GetQueryString(\"websocketdomain\");\n    if (wsdomain === null) {\n        return null;\n    }\n    var port = GetQueryString(\"port\");\n    var sign = GetQueryString(\"sign\");\n    var nonstr = GetQueryString(\"nonstr\");\n    var timestamp = GetQueryString(\"timestamp\");\n    var post_data = GetQueryString(\"post_data\");\n\n    var obj = JSON.parse(post_data);\n    var gameid = obj.gameid;\n    var roomid = obj.roomid;\n\n    var ws_url = \"wss://\" + wsdomain + \":\" + port + \"/\" + gameid + \"/\" + roomid +\n        \"?nonstr=\" + nonstr + \"&sign=\" + sign +\n        \"&timestamp=\" + timestamp + \"&post_data=\" + post_data;\n\n    return ws_url;\n}\n\nwindow.GetQueryString = GetQueryString;\nwindow.GetWsUrl = GetWsUrl;\nwindow.GetWssUrl = GetWssUrl;"]}