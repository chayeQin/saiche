{"version":3,"sources":["car.js"],"names":["cc","Class","extends","Component","properties","carIndex","default","type","Integer","visible","speedUp","Node","_speed","carTag","gears","_speedMax","canMove","canChangeLane","audioBomb","AudioSource","audioRun","audioSmallCrash","audioBigCrash","start","boomNode","find","node","active","i","MAX_GEAR","SPEED_UP_PER_GEAR","director","getCollisionManager","enabled","setCarTag","value","setCarIndex","index","UI","changeFrame","setSpeed","setCanMove","changeX","x","getSpeedMax","setSpeedMax","setSpeedUpMax","length","setCanChangeLane","getCanChangeLane","getSpeedUpMax","getGears","getNowGear","Math","floor","changeSpeed","getSpeed","playSmallCrashSound","self","tmpNode","stopAllActions","runAction","sequence","delayTime","callFunc","play","playBigCrashSound","bomb","acitve","rotation","actions","push","EXPLODE_PRE_TIME","target","getComponent","Sprite","spriteFrame","boomEffect","Animation","blink","EXPLODE_BLINK_DT","EXPLODE_BLINK_TIME","Sequence","update","dt","stop","volume","isPlaying"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,kBAAU;AACNC,qBAAS,CADH;AAENC,kBAAMP,GAAGQ,OAFH;AAGNC,qBAAS;AAHH,SAhBF;AAqBRC,iBAASV,GAAGW,IArBJ;AAsBRC,gBAAQ,CAtBA;AAuBRC,gBAAQ,IAvBA;AAwBRC,eAAO,EAxBC;AAyBRC,mBAAW,CAzBH;AA0BRC,iBAAS,IA1BD;AA2BRC,uBAAe,IA3BP;AA4BRC,mBAAW;AACPX,kBAAMP,GAAGmB,WADF;AAEPb,qBAAS;AAFF,SA5BH;AAgCRc,kBAAU;AACNb,kBAAMP,GAAGmB,WADH;AAENb,qBAAS;AAFH,SAhCF;AAoCRe,yBAAiB;AACbd,kBAAMP,GAAGmB,WADI;AAEbb,qBAAS;AAFI,SApCT;AAwCRgB,uBAAe;AACXf,kBAAMP,GAAGmB,WADE;AAEXb,qBAAS;AAFE;AAxCP,KAHP;;AAiDL;;AAEA;;AAEAiB,SArDK,mBAqDG;AACJ,YAAIC,WAAWxB,GAAGyB,IAAH,CAAQ,MAAR,EAAgB,KAAKC,IAArB,CAAf;AACAF,iBAASG,MAAT,GAAkB,KAAlB;;AAEA,aAAKb,KAAL,GAAa,EAAb;AACA,aAAK,IAAIc,IAAI,CAAb,EAAgBA,IAAIC,WAAU,CAA9B,EAAiC,EAAED,CAAnC,EAAqC;AACjC,iBAAKd,KAAL,CAAWc,CAAX,IAAgB,CAACA,IAAE,CAAH,IAAME,iBAAtB;AACH;AACD,aAAKf,SAAL,GAAiB,KAAKD,KAAL,CAAWe,WAAS,CAApB,CAAjB;AACA7B,WAAG+B,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACH,KA/DI;AAiELC,aAjEK,qBAiEMC,KAjEN,EAiEa;AACd,aAAKtB,MAAL,GAAcsB,QAAQ,CAAtB;AACH,KAnEI;AAqELC,eArEK,uBAqEQC,KArER,EAqEe;AAChB,aAAKhC,QAAL,GAAgBgC,KAAhB;AACAC,WAAGC,WAAH,CAAe,KAAKb,IAApB,EAA0B,aAAaW,KAAvC;AACH,KAxEI;AA0ELG,YA1EK,oBA0EKL,KA1EL,EA0EY;AACb,YAAI,CAAC,KAAKnB,OAAV,EAAmB;AACf;AACH;AACD,YAAImB,QAAQ,CAAZ,EACA;AACIA,oBAAQ,CAAR;AACH;AACD,aAAKvB,MAAL,GAAcuB,KAAd;AACH,KAnFI;AAqFLM,cArFK,sBAqFON,KArFP,EAqFc;AACf,aAAKnB,OAAL,GAAemB,KAAf;AACH,KAvFI;AAyFLO,WAzFK,mBAyFIP,KAzFJ,EAyFW;AACZ,YAAI,KAAKnB,OAAL,IAAgB,KAApB,EAA2B;AAC3B,aAAKU,IAAL,CAAUiB,CAAV,IAAeR,KAAf;AACH,KA5FI;AA8FLS,eA9FK,yBA8FU;AACX,eAAO,KAAK7B,SAAZ;AACH,KAhGI;AAkGL8B,eAlGK,yBAkGU;AACX,aAAK9B,SAAL,GAAiB,KAAKD,KAAL,CAAWe,WAAS,CAApB,CAAjB;AACH,KApGI;AAsGLiB,iBAtGK,2BAsGY;AACb,aAAK/B,SAAL,GAAiB,KAAKD,KAAL,CAAW,KAAKA,KAAL,CAAWiC,MAAX,GAAoB,CAA/B,CAAjB;AACH,KAxGI;AA0GLC,oBA1GK,4BA0Gab,KA1Gb,EA0GoB;AACrB,aAAKlB,aAAL,GAAqBkB,KAArB;AACH,KA5GI;AA8GLc,oBA9GK,8BA8Ge;AAChB,eAAO,KAAKhC,aAAZ;AACH,KAhHI;AAkHLiC,iBAlHK,2BAkHY;AACb,eAAO,KAAKpC,KAAL,CAAW,KAAKA,KAAL,CAAWiC,MAAX,GAAoB,CAA/B,CAAP;AACH,KApHI;AAsHLI,YAtHK,sBAsHO;AACR,eAAO,KAAKrC,KAAZ;AACH,KAxHI;AA0HLsC,cA1HK,wBA0HS;AACV,eAAOC,KAAKC,KAAL,CAAW,KAAK1C,MAAL,GAAckB,iBAAzB,IAA8C,CAArD;AACH,KA5HI;AA8HLyB,eA9HK,uBA8HQpB,KA9HR,EA8He;AAChB,YAAI,CAAC,KAAKnB,OAAV,EAAmB;AACf;AACH;AACD,aAAKJ,MAAL,IAAeuB,KAAf;AACA,YAAI,KAAKvB,MAAL,IAAe,CAAnB,EAAsB;AAClB,iBAAKA,MAAL,GAAc,CAAd;AACH;;AAED,aAAKA,MAAL,GAAc,KAAKA,MAAL,GAAc,KAAKG,SAAnB,GAA+B,KAAKA,SAApC,GAAgD,KAAKH,MAAnE;AACH,KAxII;AA0IL4C,YA1IK,sBA0IO;AACR,eAAO,KAAK5C,MAAZ;AACH,KA5II;AA8IL6C,uBA9IK,iCA8IgB;AACjB,YAAIC,OAAO,IAAX;AACA,YAAIC,UAAU3D,GAAGyB,IAAH,CAAQ,iBAAR,EAA2B,KAAKC,IAAhC,CAAd;AACAiC,gBAAQC,cAAR;AACAD,gBAAQE,SAAR,CACI7D,GAAG8D,QAAH,CACI9D,GAAG+D,SAAH,CAAa,GAAb,CADJ,EAEI/D,GAAGgE,QAAH,CAAY,YAAI;AACZN,iBAAKrC,eAAL,CAAqB4C,IAArB;AACH,SAFD,CAFJ,CADJ;AAQH,KA1JI;AA2JLC,qBA3JK,+BA2Je;AAChB,YAAIR,OAAO,IAAX;AACA,YAAIC,UAAU3D,GAAGyB,IAAH,CAAQ,eAAR,EAAyB,KAAKC,IAA9B,CAAd;AACAiC,gBAAQC,cAAR;AACAD,gBAAQE,SAAR,CACI7D,GAAG8D,QAAH,CACI9D,GAAG+D,SAAH,CAAa,GAAb,CADJ,EAEI/D,GAAGgE,QAAH,CAAY,YAAI;AACZN,iBAAKpC,aAAL,CAAmB2C,IAAnB;AACH,SAFD,CAFJ,CADJ;AAQH,KAvKI;AAyKLE,QAzKK,kBAyKG;AACJ,YAAIT,OAAO,IAAX;AACAA,aAAKhD,OAAL,CAAa0D,MAAb,GAAsB,KAAtB;AACA,YAAIV,KAAK1C,OAAL,IAAgB,KAApB,EAA2B;AAC3B0C,aAAKhC,IAAL,CAAUkC,cAAV;AACA;AACA5D,WAAG+B,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,KAA5C;AACAyB,aAAKhC,IAAL,CAAU2C,QAAV,GAAqB,CAArB;AACA;AACA,YAAIX,KAAKxC,SAAT,EAAoB;AAChBwC,iBAAKxC,SAAL,CAAe+C,IAAf;AACH;AACDP,aAAKlB,QAAL,CAAc,CAAd;AACAkB,aAAK1C,OAAL,GAAe,KAAf;AACA;AACA,YAAIQ,WAAWxB,GAAGyB,IAAH,CAAQ,MAAR,EAAgB,KAAKC,IAArB,CAAf;AACA,YAAI4C,UAAU,EAAd;AACAA,gBAAQC,IAAR,CAAavE,GAAG+D,SAAH,CAAaS,gBAAb,CAAb;AACAF,gBAAQC,IAAR,CAAavE,GAAGgE,QAAH,CAAY,UAAUS,MAAV,EAAkB;AACvCf,iBAAKhC,IAAL,CAAUgD,YAAV,CAAuB1E,GAAG2E,MAA1B,EAAkCC,WAAlC,GAAgD,IAAhD;AACApD,qBAASG,MAAT,GAAkB,IAAlB;AACA,gBAAIkD,aAAa,KAAKnD,IAAL,CAAUgD,YAAV,CAAuB1E,GAAG8E,SAA1B,CAAjB;AACAD,uBAAWZ,IAAX,CAAgB,MAAhB;AACH,SALY,EAKVP,IALU,EAKJ,IALI,CAAb;AAMAY,gBAAQC,IAAR,CAAavE,GAAG+D,SAAH,CAAa,GAAb,CAAb;AACAO,gBAAQC,IAAR,CAAavE,GAAGgE,QAAH,CAAY,UAAUS,MAAV,EAAkB;AACvCf,iBAAKhC,IAAL,CAAUiB,CAAV,GAAc,CAAd;AACAe,iBAAKhC,IAAL,CAAU2C,QAAV,GAAqB,CAArB;AACAX,iBAAKhC,IAAL,CAAUgD,YAAV,CAAuB1E,GAAG2E,MAA1B,EAAkCC,WAAlC,GAAgD,IAAhD;AACApD,qBAASG,MAAT,GAAkB,KAAlB;AACAW,eAAGC,WAAH,CAAemB,KAAKhC,IAApB,EAA0B,aAAagC,KAAKrD,QAA5C;AACH,SANY,EAMVqD,IANU,EAMJ,IANI,CAAb;AAOAY,gBAAQC,IAAR,CAAavE,GAAG+E,KAAH,CAASC,gBAAT,EAA2BC,kBAA3B,CAAb;AACAX,gBAAQC,IAAR,CAAavE,GAAGgE,QAAH,CAAY,UAAUS,MAAV,EAAkB;AACvCf,iBAAK1C,OAAL,GAAe,IAAf;AACA0C,iBAAKzC,aAAL,GAAqB,IAArB;AACAjB,eAAG+B,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACH,SAJY,EAIVyB,IAJU,EAIJ,IAJI,CAAb;AAKAA,aAAKhC,IAAL,CAAUmC,SAAV,CAAoB,IAAI7D,GAAGkF,QAAP,CAAgBZ,OAAhB,CAApB;AACH,KAhNI;AAkNLa,UAlNK,kBAkNGC,EAlNH,EAkNO;AACR,YAAI1B,OAAO,IAAX;;AAEA,YAAIA,KAAK7C,MAAL,IAAe6C,KAAKrD,QAAxB,EAAkC;AAC9BqD,iBAAKtC,QAAL,CAAciE,IAAd;AACA;AACH;AACD3B,aAAKhD,OAAL,CAAaiB,MAAb,GAAsB,KAAtB;AACA+B,aAAKtC,QAAL,CAAckE,MAAd,GAAuB,OAAO,OAAO5B,KAAKN,UAAL,EAArC;;AAGA,YAAIM,KAAK1C,OAAL,IAAgB,KAApB,EAA2B;AACvB0C,iBAAKtC,QAAL,CAAciE,IAAd;AACA;AACH;;AAED,YAAI3B,KAAK9C,MAAL,GAAc8C,KAAK5C,KAAL,CAAWe,WAAS,CAApB,CAAlB,EAA0C;AACtC6B,iBAAKhD,OAAL,CAAaiB,MAAb,GAAsB,IAAtB;AACA+B,iBAAKhC,IAAL,CAAUgD,YAAV,CAAuB1E,GAAG2E,MAA1B,EAAkCC,WAAlC,GAAgD,IAAhD;AACA,gBAAIlB,KAAKhC,IAAL,CAAU2C,QAAV,IAAsB,CAA1B,EAA6B;AACzB,oBAAI,CAAEX,KAAKtC,QAAL,CAAcmE,SAApB,EACA;AACI7B,yBAAKtC,QAAL,CAAc6C,IAAd;AACH;AACD3B,mBAAGC,WAAH,CAAemB,KAAKhD,OAApB,EAA6B,aAAagD,KAAKrD,QAAlB,GAA6B,IAA1D;AACH,aAND,MAMK;AACDqD,qBAAKtC,QAAL,CAAciE,IAAd;AACA/C,mBAAGC,WAAH,CAAemB,KAAKhD,OAApB,EAA6B,aAAagD,KAAKrD,QAA/C;AACH;AACD;AACH;AACD,YAAIqD,KAAK9C,MAAL,IAAe8C,KAAK5C,KAAL,CAAW,CAAX,CAAnB,EAAkC;AAC9B4C,iBAAKhD,OAAL,CAAaiB,MAAb,GAAsB,IAAtB;AACA+B,iBAAKhC,IAAL,CAAUgD,YAAV,CAAuB1E,GAAG2E,MAA1B,EAAkCC,WAAlC,GAAgD,IAAhD;AACA,gBAAIlB,KAAKhC,IAAL,CAAU2C,QAAV,IAAsB,CAA1B,EAA6B;AACzB,oBAAI,CAAEX,KAAKtC,QAAL,CAAcmE,SAApB,EACA;AACI7B,yBAAKtC,QAAL,CAAc6C,IAAd;AACH;AACD3B,mBAAGC,WAAH,CAAemB,KAAKhD,OAApB,EAA6B,aAAagD,KAAKrD,QAAlB,GAA6B,IAA1D;AACH,aAND,MAMK;AACDqD,qBAAKtC,QAAL,CAAciE,IAAd;AACA/C,mBAAGC,WAAH,CAAemB,KAAKhD,OAApB,EAA6B,aAAagD,KAAKrD,QAA/C;AACH;AACD;AACH,SAdD,MAcO;AACH,gBAAIqD,KAAK9C,MAAL,GAAc,CAAlB,EAAqB;AACjB,oBAAI,CAAE8C,KAAKtC,QAAL,CAAcmE,SAApB,EACA;AACI7B,yBAAKtC,QAAL,CAAc6C,IAAd;AACH;AACJ,aALD,MAKO;AACHP,qBAAKtC,QAAL,CAAciE,IAAd;AACH;AACD/C,eAAGC,WAAH,CAAemB,KAAKhC,IAApB,EAA0B,aAAagC,KAAKrD,QAA5C;AACA;AACH;AACJ;AA3QI,CAAT","file":"car.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\game","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/class/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        carIndex: {\r\n            default: 1,\r\n            type: cc.Integer,\r\n            visible: true,\r\n        },\r\n        speedUp: cc.Node,\r\n        _speed: 0,\r\n        carTag: null,\r\n        gears: [],\r\n        _speedMax: 0,\r\n        canMove: true,\r\n        canChangeLane: true,\r\n        audioBomb: {\r\n            type: cc.AudioSource,\r\n            default: null\r\n        },\r\n        audioRun: {\r\n            type: cc.AudioSource,\r\n            default: null\r\n        },\r\n        audioSmallCrash: {\r\n            type: cc.AudioSource,\r\n            default: null\r\n        },\r\n        audioBigCrash: {\r\n            type: cc.AudioSource,\r\n            default: null\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        let boomNode = cc.find(\"boom\", this.node)\r\n        boomNode.active = false;\r\n\r\n        this.gears = [];\r\n        for (var i = 0; i < MAX_GEAR -1; ++i){\r\n            this.gears[i] = (i+1)*SPEED_UP_PER_GEAR\r\n        }\r\n        this._speedMax = this.gears[MAX_GEAR-4];\r\n        cc.director.getCollisionManager().enabled = true;\r\n    },\r\n\r\n    setCarTag (value) {\r\n        this.carTag = value + 1;\r\n    },\r\n\r\n    setCarIndex (index) {\r\n        this.carIndex = index;\r\n        UI.changeFrame(this.node, \"game/car\" + index);\r\n    },\r\n\r\n    setSpeed (value) {\r\n        if (!this.canMove) {\r\n            return;\r\n        }\r\n        if (value < 0)\r\n        {\r\n            value = 0;\r\n        }\r\n        this._speed = value;\r\n    },\r\n\r\n    setCanMove (value) {\r\n        this.canMove = value;\r\n    },\r\n\r\n    changeX (value) {\r\n        if (this.canMove == false) return;\r\n        this.node.x += value;\r\n    },\r\n\r\n    getSpeedMax () {\r\n        return this._speedMax;\r\n    },\r\n\r\n    setSpeedMax () {\r\n        this._speedMax = this.gears[MAX_GEAR-4];\r\n    },\r\n\r\n    setSpeedUpMax () {\r\n        this._speedMax = this.gears[this.gears.length - 1];\r\n    },\r\n\r\n    setCanChangeLane (value) {\r\n        this.canChangeLane = value;\r\n    },\r\n\r\n    getCanChangeLane () {\r\n        return this.canChangeLane;\r\n    },\r\n\r\n    getSpeedUpMax () {\r\n        return this.gears[this.gears.length - 1];\r\n    },\r\n\r\n    getGears () {\r\n        return this.gears;\r\n    },\r\n\r\n    getNowGear () {\r\n        return Math.floor(this._speed / SPEED_UP_PER_GEAR) + 1;\r\n    },\r\n\r\n    changeSpeed (value) {\r\n        if (!this.canMove) {\r\n            return;\r\n        }\r\n        this._speed += value;\r\n        if (this._speed <= 0) {\r\n            this._speed = 0;\r\n        }\r\n\r\n        this._speed = this._speed > this._speedMax ? this._speedMax : this._speed;\r\n    },\r\n\r\n    getSpeed () {\r\n        return this._speed;\r\n    },\r\n\r\n    playSmallCrashSound(){\r\n        let self = this;\r\n        let tmpNode = cc.find(\"audioSmallCrash\", this.node)\r\n        tmpNode.stopAllActions()\r\n        tmpNode.runAction(\r\n            cc.sequence(\r\n                cc.delayTime(0.1),\r\n                cc.callFunc(()=>{\r\n                    self.audioSmallCrash.play();\r\n                })\r\n            )\r\n        )\r\n    },\r\n    playBigCrashSound() {\r\n        let self = this;\r\n        let tmpNode = cc.find(\"audioBigCrash\", this.node)\r\n        tmpNode.stopAllActions()\r\n        tmpNode.runAction(\r\n            cc.sequence(\r\n                cc.delayTime(0.1),\r\n                cc.callFunc(()=>{\r\n                    self.audioBigCrash.play();\r\n                })\r\n            )\r\n        )\r\n    },\r\n\r\n    bomb () {\r\n        let self = this;\r\n        self.speedUp.acitve = false;\r\n        if (self.canMove == false) return;\r\n        self.node.stopAllActions();\r\n        //爆炸的时候去掉碰撞器\r\n        cc.director.getCollisionManager().enabled = false;\r\n        self.node.rotation = 0;\r\n        //TODO 处理一下爆炸音效\r\n        if (self.audioBomb) {\r\n            self.audioBomb.play();\r\n        }\r\n        self.setSpeed(0);\r\n        self.canMove = false;\r\n        // UI.changeFrame(self.node, \"game/bomb\");\r\n        let boomNode = cc.find(\"boom\", this.node)\r\n        let actions = [];\r\n        actions.push(cc.delayTime(EXPLODE_PRE_TIME));\r\n        actions.push(cc.callFunc(function (target) {\r\n            self.node.getComponent(cc.Sprite).spriteFrame = null;\r\n            boomNode.active = true;\r\n            let boomEffect = this.node.getComponent(cc.Animation)\r\n            boomEffect.play(\"boom\");\r\n        }, self, null));\r\n        actions.push(cc.delayTime(0.3));\r\n        actions.push(cc.callFunc(function (target) {\r\n            self.node.x = 0;\r\n            self.node.rotation = 0;\r\n            self.node.getComponent(cc.Sprite).spriteFrame = null;\r\n            boomNode.active = false;\r\n            UI.changeFrame(self.node, \"game/car\" + self.carIndex);\r\n        }, self, null));\r\n        actions.push(cc.blink(EXPLODE_BLINK_DT, EXPLODE_BLINK_TIME)); \r\n        actions.push(cc.callFunc(function (target) {\r\n            self.canMove = true;\r\n            self.canChangeLane = true;\r\n            cc.director.getCollisionManager().enabled = true;\r\n        }, self, null));\r\n        self.node.runAction(new cc.Sequence(actions));\r\n    },\r\n\r\n    update (dt) {\r\n        let self = this;\r\n\r\n        if (self.carTag != self.carIndex) {\r\n            self.audioRun.stop();\r\n            return;\r\n        }\r\n        self.speedUp.active = false;\r\n        self.audioRun.volume = 0.65 + 0.05 * self.getNowGear();\r\n\r\n\r\n        if (self.canMove == false) {\r\n            self.audioRun.stop();\r\n            return;\r\n        }\r\n\r\n        if (self._speed > self.gears[MAX_GEAR-4]) {\r\n            self.speedUp.active = true;\r\n            self.node.getComponent(cc.Sprite).spriteFrame = null;\r\n            if (self.node.rotation == 0) {\r\n                if (! self.audioRun.isPlaying)\r\n                {\r\n                    self.audioRun.play();\r\n                }\r\n                UI.changeFrame(self.speedUp, \"game/car\" + self.carIndex + \"_3\");\r\n            }else{\r\n                self.audioRun.stop();\r\n                UI.changeFrame(self.speedUp, \"game/car\" + self.carIndex );\r\n            }\r\n            return;\r\n        }\r\n        if (self._speed >= self.gears[3]) {\r\n            self.speedUp.active = true;\r\n            self.node.getComponent(cc.Sprite).spriteFrame = null;\r\n            if (self.node.rotation == 0) {\r\n                if (! self.audioRun.isPlaying)\r\n                {\r\n                    self.audioRun.play();\r\n                }\r\n                UI.changeFrame(self.speedUp, \"game/car\" + self.carIndex + \"_2\");\r\n            }else{\r\n                self.audioRun.stop();\r\n                UI.changeFrame(self.speedUp, \"game/car\" + self.carIndex );\r\n            }\r\n            return;\r\n        } else {\r\n            if (self._speed > 0) {\r\n                if (! self.audioRun.isPlaying)\r\n                {\r\n                    self.audioRun.play();\r\n                }\r\n            } else {\r\n                self.audioRun.stop();\r\n            }\r\n            UI.changeFrame(self.node, \"game/car\" + self.carIndex);\r\n            return;\r\n        }\r\n    },\r\n});\r\n"]}